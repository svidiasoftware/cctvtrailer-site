---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CTASection from '../components/CTASection.astro';

const breadcrumbSchema = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.cctvtrailer.com/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Security Cost Calculator"
    }
  ]
});

const toolSchema = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Security Cost Calculator",
  "description": "Calculate and compare security costs for mobile surveillance trailers vs traditional security guards. Get instant ROI estimates and savings analysis.",
  "applicationCategory": "BusinessApplication",
  "operatingSystem": "Web",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "provider": {
    "@type": "LocalBusiness",
    "name": "CCTV Trailer",
    "telephone": "(253) 683-2288",
    "email": "info@cctvtrailer.com"
  }
});
---

<Layout
  title="Security Cost Calculator - Compare Mobile Surveillance vs Guards | CCTV Trailer"
  description="Calculate your security costs and ROI. Compare mobile surveillance trailers with traditional security guards. Get instant cost savings analysis for your project."
>
  <script slot="head" type="application/ld+json" set:html={breadcrumbSchema} />
  <script slot="head" type="application/ld+json" set:html={toolSchema} />

  <Header />

  <main>
    <!-- Hero Section -->
    <section class="bg-gray-900 text-white py-16">
      <div class="container mx-auto px-4">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">Security Cost Calculator</h1>
        <p class="text-xl mb-8">Compare costs and calculate ROI for your security needs</p>
      </div>
    </section>

    <!-- Calculator Section -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <!-- Calculator Introduction -->
          <div class="bg-white rounded-lg shadow-md p-8 mb-8">
            <h2 class="text-2xl font-bold mb-4">Calculate Your Security Investment</h2>
            <p class="text-gray-700 mb-6">
              Use our calculator to compare the costs of mobile surveillance trailers versus traditional security guards.
              See your potential savings and ROI instantly.
            </p>
          </div>

          <!-- Calculator Form -->
          <div class="bg-white rounded-lg shadow-md p-8 mb-8">
            <h3 class="text-xl font-semibold mb-6">Project Details</h3>

            <form id="costCalculator" class="space-y-6">
              <!-- Project Duration -->
              <div>
                <label for="duration" class="block text-sm font-medium text-gray-700 mb-2">
                  Project Duration (months)
                </label>
                <input
                  type="number"
                  id="duration"
                  name="duration"
                  min="1"
                  max="60"
                  value="6"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"
                />
              </div>

              <!-- Site Size -->
              <div>
                <label for="siteSize" class="block text-sm font-medium text-gray-700 mb-2">
                  Site Size
                </label>
                <select
                  id="siteSize"
                  name="siteSize"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"
                >
                  <option value="small">Small (< 5 acres)</option>
                  <option value="medium" selected>Medium (5-20 acres)</option>
                  <option value="large">Large (> 20 acres)</option>
                </select>
              </div>

              <!-- Coverage Hours -->
              <div>
                <label for="coverage" class="block text-sm font-medium text-gray-700 mb-2">
                  Coverage Required
                </label>
                <select
                  id="coverage"
                  name="coverage"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"
                >
                  <option value="business">Business Hours (8 hours/day)</option>
                  <option value="extended">Extended Hours (16 hours/day)</option>
                  <option value="247" selected>24/7 Coverage</option>
                </select>
              </div>

              <!-- Equipment Value -->
              <div>
                <label for="equipmentValue" class="block text-sm font-medium text-gray-700 mb-2">
                  Estimated Equipment/Material Value on Site
                </label>
                <select
                  id="equipmentValue"
                  name="equipmentValue"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"
                >
                  <option value="low">< $100,000</option>
                  <option value="medium" selected>$100,000 - $500,000</option>
                  <option value="high">$500,000 - $1,000,000</option>
                  <option value="very-high">> $1,000,000</option>
                </select>
              </div>

              <!-- Previous Incidents -->
              <div>
                <label for="incidents" class="block text-sm font-medium text-gray-700 mb-2">
                  Previous Security Incidents (past year)
                </label>
                <select
                  id="incidents"
                  name="incidents"
                  class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"
                >
                  <option value="0">None</option>
                  <option value="1-2" selected>1-2 incidents</option>
                  <option value="3-5">3-5 incidents</option>
                  <option value="5+">More than 5</option>
                </select>
              </div>

              <button
                type="button"
                onclick="calculateCosts()"
                class="w-full bg-red-600 text-white py-3 px-6 rounded-md font-semibold hover:bg-red-700 transition-colors"
              >
                Calculate Costs
              </button>
            </form>
          </div>

          <!-- Results Section (Initially Hidden) -->
          <div id="results" class="hidden">
            <!-- Cost Comparison -->
            <div class="bg-white rounded-lg shadow-md p-8 mb-8">
              <h3 class="text-xl font-semibold mb-6">Cost Comparison</h3>

              <div class="grid md:grid-cols-2 gap-8">
                <!-- Mobile Surveillance -->
                <div class="bg-green-50 p-6 rounded-lg border-2 border-green-500">
                  <h4 class="text-lg font-semibold mb-4 text-green-800">Mobile Surveillance Trailer</h4>
                  <div class="space-y-2">
                    <div class="flex justify-between">
                      <span class="text-gray-600">Monthly Cost:</span>
                      <span id="trailerMonthly" class="font-semibold">$8,000</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-600">Setup Fee:</span>
                      <span id="trailerSetup" class="font-semibold">$500</span>
                    </div>
                    <div class="flex justify-between border-t pt-2 mt-2">
                      <span class="font-semibold">Total Project Cost:</span>
                      <span id="trailerTotal" class="font-bold text-xl text-green-600">$48,500</span>
                    </div>
                  </div>
                </div>

                <!-- Security Guards -->
                <div class="bg-gray-50 p-6 rounded-lg">
                  <h4 class="text-lg font-semibold mb-4">Security Guards</h4>
                  <div class="space-y-2">
                    <div class="flex justify-between">
                      <span class="text-gray-600">Hourly Rate:</span>
                      <span id="guardHourly">$35/hour</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-600">Monthly Cost:</span>
                      <span id="guardMonthly" class="font-semibold">$25,200</span>
                    </div>
                    <div class="flex justify-between border-t pt-2 mt-2">
                      <span class="font-semibold">Total Project Cost:</span>
                      <span id="guardTotal" class="font-bold text-xl">$151,200</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Savings Summary -->
              <div class="mt-8 bg-blue-50 p-6 rounded-lg border-2 border-blue-500">
                <div class="text-center">
                  <h4 class="text-lg font-semibold mb-2">Your Savings with Mobile Surveillance</h4>
                  <div class="text-4xl font-bold text-blue-600 mb-2" id="totalSavings">$102,700</div>
                  <div class="text-gray-600">
                    <span id="percentSavings" class="font-semibold">68%</span> cost reduction
                  </div>
                </div>
              </div>
            </div>

            <!-- ROI Analysis -->
            <div class="bg-white rounded-lg shadow-md p-8 mb-8">
              <h3 class="text-xl font-semibold mb-6">ROI Analysis</h3>

              <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center">
                  <div class="text-3xl font-bold text-green-600 mb-2" id="roiPercent">212%</div>
                  <div class="text-gray-600">Return on Investment</div>
                </div>
                <div class="text-center">
                  <div class="text-3xl font-bold text-blue-600 mb-2" id="paybackPeriod">2 months</div>
                  <div class="text-gray-600">Payback Period</div>
                </div>
                <div class="text-center">
                  <div class="text-3xl font-bold text-purple-600 mb-2" id="preventedLoss">$50,000</div>
                  <div class="text-gray-600">Est. Prevented Losses</div>
                </div>
              </div>

              <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                <h4 class="font-semibold mb-2">Additional Benefits Not Included in Calculation:</h4>
                <ul class="list-disc list-inside text-gray-700 space-y-1">
                  <li>24/7 recording and evidence collection</li>
                  <li>Remote monitoring capabilities</li>
                  <li>Reduced insurance premiums (typically 10-20%)</li>
                  <li>No scheduling issues or sick days</li>
                  <li>Deterrent effect reducing incidents by 95%</li>
                  <li>Professional monitoring with immediate response</li>
                </ul>
              </div>
            </div>

            <!-- Comparison Chart -->
            <div class="bg-white rounded-lg shadow-md p-8 mb-8">
              <h3 class="text-xl font-semibold mb-6">Feature Comparison</h3>

              <div class="overflow-x-auto">
                <table class="w-full">
                  <thead>
                    <tr class="border-b-2">
                      <th class="text-left py-2">Feature</th>
                      <th class="text-center py-2">Mobile Surveillance</th>
                      <th class="text-center py-2">Security Guards</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-b">
                      <td class="py-3">Coverage Area</td>
                      <td class="text-center">✅ 360° coverage</td>
                      <td class="text-center">❌ Limited view</td>
                    </tr>
                    <tr class="border-b bg-gray-50">
                      <td class="py-3">Recording</td>
                      <td class="text-center">✅ 24/7 recording</td>
                      <td class="text-center">❌ No recording</td>
                    </tr>
                    <tr class="border-b">
                      <td class="py-3">Weather Resistance</td>
                      <td class="text-center">✅ All weather</td>
                      <td class="text-center">⚠️ Limited in bad weather</td>
                    </tr>
                    <tr class="border-b bg-gray-50">
                      <td class="py-3">Response Time</td>
                      <td class="text-center">✅ Instant alerts</td>
                      <td class="text-center">⚠️ Depends on location</td>
                    </tr>
                    <tr class="border-b">
                      <td class="py-3">Evidence Collection</td>
                      <td class="text-center">✅ HD video evidence</td>
                      <td class="text-center">⚠️ Witness testimony only</td>
                    </tr>
                    <tr class="border-b bg-gray-50">
                      <td class="py-3">Cost Effectiveness</td>
                      <td class="text-center">✅ 60-70% cheaper</td>
                      <td class="text-center">❌ High ongoing costs</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- CTA Section -->
            <div class="bg-gradient-to-r from-red-600 to-red-700 rounded-lg p-8 text-white text-center">
              <h3 class="text-2xl font-bold mb-4">Ready to Save on Security Costs?</h3>
              <p class="text-lg mb-6">Get a customized quote for your specific security needs</p>
              <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a
                  href="tel:2536832288"
                  class="bg-white text-red-600 py-3 px-8 rounded-md font-semibold hover:bg-gray-100 transition-colors inline-block"
                >
                  Call (253) 683-2288
                </a>
                <a
                  href="/contact"
                  class="bg-red-800 text-white py-3 px-8 rounded-md font-semibold hover:bg-red-900 transition-colors inline-block border border-red-900"
                >
                  Request Quote Online
                </a>
              </div>
            </div>
          </div>

          <!-- Calculator Notes -->
          <div class="mt-8 p-6 bg-blue-50 rounded-lg">
            <h3 class="font-semibold mb-2">Calculator Notes:</h3>
            <ul class="text-sm text-gray-700 space-y-1 list-disc list-inside">
              <li>CCTV Trailer monthly cost: $8,000 (includes 24/7 monitoring, equipment, and service)</li>
              <li>Guard costs based on average Pacific Northwest rates ($30-40/hour)</li>
              <li>Large sites may require 2 trailers for complete coverage ($12,000/month)</li>
              <li>Prevented loss estimates based on industry average 95% theft reduction</li>
              <li>Insurance savings not included in calculations but typically 10-20% reduction</li>
              <li>Contact us for customized pricing based on your specific requirements</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Additional Information -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-bold mb-8 text-center">Why Mobile Surveillance Delivers Better ROI</h2>

          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-xl font-semibold mb-4">Lower Operating Costs</h3>
              <ul class="space-y-2 text-gray-700">
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  No hourly wages, overtime, or benefits
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  No scheduling conflicts or sick days
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  Predictable monthly costs
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  No training or turnover costs
                </li>
              </ul>
            </div>

            <div>
              <h3 class="text-xl font-semibold mb-4">Superior Performance</h3>
              <ul class="space-y-2 text-gray-700">
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  360-degree coverage with no blind spots
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  Never sleeps, never takes breaks
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  HD video evidence for prosecution
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">✓</span>
                  Instant alerts to multiple responders
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <CTASection
      title="Get Your Custom Security Quote"
      description="See exactly how much you can save with mobile surveillance"
    />
  </main>

  <Footer />

  <script is:inline>
    window.calculateCosts = function() {
      const duration = parseInt(document.getElementById('duration').value);
      const siteSize = document.getElementById('siteSize').value;
      const coverage = document.getElementById('coverage').value;
      const equipmentValue = document.getElementById('equipmentValue').value;
      const incidents = document.getElementById('incidents').value;

      // Base price for CCTV Trailer is $8,000/month
      // This includes 24/7 monitoring, equipment, and service
      let trailerMonthly = 8000;

      // Small adjustment for multiple units on larger sites
      if (siteSize === 'large') {
        trailerMonthly = 12000; // May need 2 units for large sites
      }

      const trailerSetup = 500; // One-time setup fee
      const trailerTotal = (trailerMonthly * duration) + trailerSetup;

      // Calculate guard costs
      let hoursPerDay = 8;
      if (coverage === 'extended') hoursPerDay = 16;
      if (coverage === '247') hoursPerDay = 24;

      let guardsNeeded = 1;
      if (siteSize === 'medium') guardsNeeded = 2;
      if (siteSize === 'large') guardsNeeded = 3;

      const guardHourly = 35;
      const guardMonthly = guardHourly * hoursPerDay * 30 * guardsNeeded;
      const guardTotal = guardMonthly * duration;

      // Calculate savings
      const totalSavings = guardTotal - trailerTotal;
      const percentSavings = Math.round((totalSavings / guardTotal) * 100);

      // Calculate ROI
      const roiPercent = Math.round((totalSavings / trailerTotal) * 100);
      const paybackDays = Math.round(trailerTotal / (totalSavings / (duration * 30)));
      const paybackPeriod = paybackDays < 30 ? `${paybackDays} days` : `${Math.round(paybackDays / 30)} months`;

      // Estimate prevented losses
      let lossRisk = 10000;
      if (equipmentValue === 'medium') lossRisk = 50000;
      if (equipmentValue === 'high') lossRisk = 100000;
      if (equipmentValue === 'very-high') lossRisk = 200000;

      if (incidents === '1-2') lossRisk *= 1.5;
      if (incidents === '3-5') lossRisk *= 2;
      if (incidents === '5+') lossRisk *= 3;

      const preventedLoss = Math.round(lossRisk * 0.95); // 95% reduction in incidents

      // Update display
      document.getElementById('trailerMonthly').textContent = `$${trailerMonthly.toLocaleString()}`;
      document.getElementById('trailerSetup').textContent = `$${trailerSetup.toLocaleString()}`;
      document.getElementById('trailerTotal').textContent = `$${trailerTotal.toLocaleString()}`;

      document.getElementById('guardHourly').textContent = `$${guardHourly}/hour`;
      document.getElementById('guardMonthly').textContent = `$${guardMonthly.toLocaleString()}`;
      document.getElementById('guardTotal').textContent = `$${guardTotal.toLocaleString()}`;

      document.getElementById('totalSavings').textContent = `$${totalSavings.toLocaleString()}`;
      document.getElementById('percentSavings').textContent = `${percentSavings}%`;

      document.getElementById('roiPercent').textContent = `${roiPercent}%`;
      document.getElementById('paybackPeriod').textContent = paybackPeriod;
      document.getElementById('preventedLoss').textContent = `$${preventedLoss.toLocaleString()}`;

      // Show results
      document.getElementById('results').classList.remove('hidden');

      // Smooth scroll to results
      document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });

      // Track calculation in GA
      if (typeof gtag !== 'undefined') {
        gtag('event', 'calculate', {
          event_category: 'Calculator',
          event_label: 'Security Cost',
          value: totalSavings
        });
      }
    }
  </script>
</Layout>